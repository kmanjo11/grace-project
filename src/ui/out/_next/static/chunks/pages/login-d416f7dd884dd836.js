(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{5432:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(8510)}])},8510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(7765),o=s(5977),a=s(1619),n=s(3710),i=s.n(n),l=s(6395),c=s(1742),d=s(4131);function u(){let[e,t]=(0,o.useState)(""),[s,n]=(0,o.useState)(""),[u,m]=(0,o.useState)(""),[h,g]=(0,o.useState)(!1),[x,p]=(0,o.useState)(!1),b=(0,a.useRouter)(),{login:f,isAuthenticated:w,user:N}=(0,l.A)();(0,o.useEffect)(()=>{if(x&&w&&N){let e=setTimeout(()=>{console.log("Authentication confirmed, navigating to /chat"),b.push("/chat")},800);return()=>clearTimeout(e)}},[x,w,N,b]);let j=async t=>{t.preventDefault(),m(""),g(!0),p(!1);try{let{data:t,success:r}=await c.FH.post(c.Sn.AUTH.LOGIN,{username:e,password:s,remember_me:!0});r&&(null==t?void 0:t.token)?(console.log("Login successful, token received"),localStorage.setItem("grace_token",t.token),d.oR.success("Login successful! Redirecting...",{position:"bottom-right",autoClose:2e3}),await f(t),p(!0)):(d.oR.error((null==t?void 0:t.message)||"Login failed",{position:"bottom-right"}),m((null==t?void 0:t.message)||"Login failed"))}catch(t){let e=(null==t?void 0:t.message)||"Connection error";d.oR.error(e,{position:"bottom-right"}),m(e),console.error("Login error:",t)}finally{g(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#140000] to-black",children:(0,r.jsxs)("div",{className:"w-full max-w-sm p-8 space-y-6 rounded bg-black/80 text-white shadow-xl border border-red-900/30",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("img",{src:"/assets/grace_logo.png",alt:"Grace Logo",className:"w-64 h-auto mx-auto"})}),(0,r.jsx)("h1",{className:"text-3xl font-mono text-red-300 mb-4",children:"Login"})]}),u&&(0,r.jsx)("div",{className:"p-2 text-sm bg-red-600/20 text-red-400 rounded",children:u}),(0,r.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"text-sm block mb-1",children:"Username"}),(0,r.jsx)("input",{id:"username",className:"w-full p-2 rounded bg-white/10 focus:outline-none focus:ring-1 focus:ring-red-400 border border-white/20",value:e,onChange:e=>t(e.target.value),placeholder:"Username",autoComplete:"username"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"text-sm block mb-1",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",className:"w-full p-2 rounded bg-white/10 focus:outline-none focus:ring-1 focus:ring-red-400 border border-white/20",value:s,onChange:e=>n(e.target.value),placeholder:"Password",autoComplete:"current-password"})]}),(0,r.jsx)("div",{className:"text-right text-sm",children:(0,r.jsx)(i(),{href:"/forgot",className:"text-gray-400 hover:text-white",children:"Forgot password?"})}),(0,r.jsx)("button",{type:"submit",className:"w-full py-2 text-white bg-red-700 hover:bg-red-900 rounded transition-colors",disabled:h,children:h?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"Signing in"}),(0,r.jsx)("div",{className:"animate-pulse",children:"..."})]}):"Sign in"}),(0,r.jsxs)("p",{className:"text-center text-sm text-white",children:["Don't have an account? ",(0,r.jsx)(i(),{href:"/register",className:"text-red-500 hover:text-red-400 transition-colors",children:"Sign up"})]}),(0,r.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText("5dFhFf5g2GCqNwZeTeirkZX9iwLqqFwGXuD4m5DhndD6"),alert("Wallet address copied to clipboard: 5dFhFf5g2GCqNwZeTeirkZX9iwLqqFwGXuD4m5DhndD6")},className:"w-full py-2 text-white bg-green-700 hover:bg-green-800 rounded flex items-center justify-center transition-colors",type:"button",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCB0"})," Donate to Grace"]}),(0,r.jsx)("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Support Grace's development by donating to our wallet"})]})]})]})})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=5432)),_N_E=e.O()}]);