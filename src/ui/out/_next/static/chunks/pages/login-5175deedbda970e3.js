(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{2982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var n=a(8153),s=a(4232),l=a(8307),r=a(6874),o=a(4054);function i(){let[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),g=(0,l.Zp)(),{login:h}=(0,r.A)(),p=async t=>{t.preventDefault(),d(""),m(!0);try{let{data:t,success:n}=await o.FH.post(o.Sn.AUTH.LOGIN,{username:e,password:a,remember_me:!0});n&&(null==t?void 0:t.token)?(console.log("Login response data:",JSON.stringify(t,null,2)),console.log("Login successful, token received:",t.token.substring(0,15)+"..."),localStorage.setItem("grace_token",t.token),console.log("Token manually stored in localStorage"),h(t),setTimeout(()=>{let e=localStorage.getItem("grace_token")||sessionStorage.getItem("grace_token");console.log("Token in storage after login check:",e?e.substring(0,15)+"...":"None")},500),g("/chat")):d((null==t?void 0:t.message)||"Login failed")}catch(e){d("Connection error")}finally{m(!1)}};return(0,n.Y)("div",{className:"min-h-screen flex items-center justify-center bg-[#190000]",children:(0,n.FD)("div",{className:"w-full max-w-sm p-8 space-y-6 rounded bg-black/80 text-white shadow-xl",children:[(0,n.FD)("div",{className:"text-center",children:[(0,n.Y)("div",{className:"flex justify-center mb-6",children:(0,n.Y)("img",{src:"/assets/grace_logo.png",alt:"Grace Logo",className:"w-82 h-auto"})}),(0,n.Y)("h1",{className:"text-3xl font-mono text-red-300",children:"Login"})]}),c&&(0,n.Y)("div",{className:"p-2 text-sm bg-red-600/20 text-red-400 rounded",children:c}),(0,n.FD)("form",{onSubmit:p,className:"space-y-4",children:[(0,n.FD)("div",{children:[(0,n.Y)("label",{htmlFor:"username",className:"text-sm block mb-1",children:"Username"}),(0,n.Y)("input",{id:"username",className:"w-full p-2 rounded bg-white/10 focus:outline-none",value:e,onChange:e=>t(e.target.value),placeholder:"Username"})]}),(0,n.FD)("div",{children:[(0,n.Y)("label",{htmlFor:"password",className:"text-sm block mb-1",children:"Password"}),(0,n.Y)("input",{id:"password",type:"password",className:"w-full p-2 rounded bg-white/10 focus:outline-none",value:a,onChange:e=>i(e.target.value),placeholder:"Password"})]}),(0,n.Y)("div",{className:"text-right text-sm",children:(0,n.Y)("a",{href:"/forgot",className:"text-gray-400 hover:text-white",children:"Forgot password?"})}),(0,n.Y)("button",{type:"submit",className:"w-full py-2 text-white bg-red-700 hover:bg-red-900 rounded",disabled:u,children:u?"Signing in...":"Sign in"}),(0,n.FD)("p",{className:"text-center text-sm text-white",children:["Donâ€™t have an account? ",(0,n.Y)("a",{href:"/register",className:"text-red-500",children:"Sign up"})]}),(0,n.FD)("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[(0,n.FD)("button",{onClick:()=>{navigator.clipboard.writeText("5dFhFf5g2GCqNwZeTeirkZX9iwLqqFwGXuD4m5DhndD6"),alert("Wallet address copied to clipboard: 5dFhFf5g2GCqNwZeTeirkZX9iwLqqFwGXuD4m5DhndD6")},className:"w-full py-2 text-white bg-green-700 hover:bg-green-800 rounded flex items-center justify-center",children:[(0,n.Y)("span",{className:"mr-2",children:"\uD83D\uDCB0"})," Donate to Grace"]}),(0,n.Y)("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Support Grace's development by donating to our wallet"})]})]})]})})}},7984:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(2982)}])}},e=>{e.O(0,[796,307,636,593,792],()=>e(e.s=7984)),_N_E=e.O()}]);